/* 1) Baseline reset + variables */
*,
*::before,
*::after { box-sizing: border-box; }
html:focus-within { scroll-behavior: smooth; }
html, body { height: 100%; }
body { margin: 0; line-height: 1.6; -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility; }
img, picture, video, canvas, svg { display: block; max-width: 100%; }
input, button, textarea, select { font: inherit; }
:root {
  --h: 218; /* base hue */
  --bg: hsl(218 25% 98%);
  --fg: hsl(218 30% 12%);
  --muted: hsl(218 15% 40%);
  --card: hsl(0 0% 100% / 0.8);
  --accent: hsl(var(--h) 85% 55%);
  --accent-ink: white;
  --shadow: 0 1px 10px hsl(218 20% 10% / 0.08), 0 10px 30px hsl(218 20% 10% / 0.06);
  --radius: 14px;
  --container: 72rem;
  --space: clamp(0.8rem, 0.6rem + 1vw, 1.25rem);
  --s-2: calc(var(--space) * 0.5);
  --s0: var(--space);
  --s1: calc(var(--space) * 1.5);
  --s2: calc(var(--space) * 2);
  --s3: calc(var(--space) * 3);
  --font-sans: ui-sans-serif, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  color-scheme: light dark;
}
@media (prefers-color-scheme: dark) {
  :root {
    --bg: hsl(218 28% 8%);
    --fg: hsl(218 25% 92%);
    --muted: hsl(218 10% 70%);
    --card: hsl(218 18% 12% / 0.7);
    --shadow: 0 1px 10px hsl(218 80% 2% / 0.4), 0 20px 50px hsl(218 80% 2% / 0.2);
  }
}
[data-theme="light"] { color-scheme: light; }
[data-theme="dark"]  { color-scheme: dark; }
[data-theme="light"] :root,
[data-theme="dark"] :root { /* handled by JS toggle */ }

/* 2) Typography */
body {
  background: radial-gradient(1200px 800px at 80% -10%, hsl(var(--h) 100% 60% / 0.08), transparent 60%) var(--bg);
  color: var(--fg);
  font-family: var(--font-sans);
  font-size: clamp(16px, 0.9rem + 0.2vw, 18px);
}
h1, h2, h3 { line-height: 1.2; margin: 0 0 var(--s1); }
h1 { font-size: clamp(2rem, 1.3rem + 3vw, 3.2rem); letter-spacing: -0.02em; }
h2 { font-size: clamp(1.5rem, 1.1rem + 1.5vw, 2.2rem); }
h3 { font-size: clamp(1.15rem, 1rem + 0.7vw, 1.4rem); }
p { margin: 0 0 var(--s1); color: var(--muted); }
a { color: color-mix(in oklab, var(--accent), var(--fg) 10%); text-decoration: none; }
a:hover { text-decoration: underline; text-underline-offset: 3px; }

/* 3) Layout primitives */
.container { max-width: var(--container); margin-inline: auto; padding: 0 var(--s0); }
.section { padding: clamp(3rem, 6vw, 6rem) 0; }
.section--alt { background: linear-gradient(0deg, var(--card), transparent 60%); }

/* 4) Header & nav */
.skip-link {
  position: absolute; left: -9999px; top: auto; width: 1px; height: 1px; overflow: hidden;
}
.skip-link:focus { position: fixed; left: var(--s0); top: var(--s0); width: auto; height: auto; padding: var(--s-2) var(--s0); background: var(--fg); color: var(--bg); border-radius: 6px; }
.site-header {
  position: sticky; top: 0; z-index: 50; backdrop-filter: saturate(1.2) blur(10px);
  background: color-mix(in oklab, var(--bg), transparent 30%); box-shadow: var(--shadow);
}
.nav { display: grid; grid-template-columns: 1fr auto; align-items: center; gap: var(--s0); padding: var(--s-2) 0; }
.brand { font-weight: 700; font-size: 1.1rem; margin-left: 20px; }
.nav__toggle { display: none; background: none; border: 0; color: inherit; }
.nav__list { display: flex; gap: var(--s0); align-items: center; list-style: none; margin: 0 10px 0 0; padding: 0; }
.nav__list a { padding: .45rem .7rem; border-radius: 8px; }
.nav__list a.is-active { background: color-mix(in oklab, var(--accent), transparent 75%); }

.theme__btn {
  width: 2.25rem; aspect-ratio: 1; border-radius: 50%;
  border: 1px solid color-mix(in oklab, var(--fg), transparent 80%);
  background: linear-gradient(180deg, var(--bg), color-mix(in oklab, var(--bg), var(--fg) 6%));
}

/* 5) Hero */
.hero .container { display: grid; gap: var(--s2); align-items: center; }
.hero__media { max-width: 320px; filter: drop-shadow(0 30px 50px hsl(220 40% 10% / 0.3)); }
.hero__media img { border-radius: 24px; aspect-ratio: 1; object-fit: cover; }
.hero__copy .btn { margin-right: var(--s-2); }
.badges { display: flex; flex-wrap: wrap; gap: .5rem; padding: 0; list-style: none; margin-top: var(--s1); }
.badge { background: color-mix(in oklab, var(--accent), transparent 85%); padding: .4rem .6rem; border-radius: 999px; border: 1px solid color-mix(in oklab, var(--accent), transparent 65%); }

/* 6) Cards grid */
.grid { display: grid; gap: var(--s1); }
.cards { grid-template-columns: repeat(12, 1fr); }
.card {
  grid-column: span 12; background: var(--card); border: 1px solid color-mix(in oklab, var(--fg), transparent 88%);
  border-radius: var(--radius); padding: var(--s1); box-shadow: var(--shadow); transition: transform .25s ease, box-shadow .25s ease;
}
.card:focus, .card:hover { transform: translateY(-2px); box-shadow: 0 10px 30px hsl(220 30% 10% / 0.2); }
.card .meta { display: flex; gap: .75rem; list-style: none; padding: 0; margin: var(--s-2) 0 0; color: var(--muted); font-size: .95rem; }

/* 7) Tooling */
.stack { display: grid; gap: var(--s1); }
.stack__group { background: var(--card); border: 1px solid color-mix(in oklab, var(--fg), transparent 88%); border-radius: var(--radius); padding: var(--s1); }

/* 8) Notes */
.notes { display: grid; gap: var(--s1); }
.note { padding: var(--s1); border-left: 3px solid var(--accent); background: color-mix(in oklab, var(--card), transparent 10%); border-radius: 10px; }

/* 9) Buttons & form */
.btn { display: inline-block; padding: .7rem 1rem; border-radius: 10px; background: var(--accent); color: var(--accent-ink); border: 0; }
.btn--ghost { background: transparent; color: var(--fg); border: 1px solid color-mix(in oklab, var(--fg), transparent 75%); }
.form { display: grid; gap: var(--s0); }
.form__row { display: grid; gap: .4rem; }
input, textarea {
  width: 100%; padding: .7rem .8rem; border-radius: 10px;
  border: 1px solid color-mix(in oklab, var(--fg), transparent 80%); background: color-mix(in oklab, var(--bg), var(--fg) 2%);
}
input:focus, textarea:focus { outline: 2px solid color-mix(in oklab, var(--accent), transparent 45%); outline-offset: 2px; }
.form__actions { display: flex; align-items: center; gap: var(--s0); }
.form__status { min-height: 1.4em; }

/* 10) Footer */
.site-footer { padding: var(--s2) 0; border-top: 1px solid color-mix(in oklab, var(--fg), transparent 85%); margin-top: var(--s2); }
.social { list-style: none; display: flex; gap: var(--s0); padding: 0; margin: 0; }

/* 11) Responsive & container queries */
@media (width >= 720px) {
  .hero .container { grid-template-columns: 1fr 1.2fr; }
  .cards .card { grid-column: span 4; }
  .notes { grid-template-columns: repeat(2, 1fr); }
  .stack { grid-template-columns: repeat(3, 1fr); }
}
.cards { container-type: inline-size; }
.card:has(h3) { /* demo :has for progressive polish */ }

/* 12) Motion preferences + reveal */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation: none !important; transition: none !important; }
}
.reveal { opacity: 0; transform: translateY(12px); }
.reveal.is-visible { opacity: 1; transform: translateY(0); transition: opacity .6s ease, transform .6s ease; }

/* 13) Small screens nav */
@media (width < 720px) {
  .nav__toggle { display: inline-flex; align-items: center; justify-content: center; }
  .nav__list { position: fixed; inset: 56px 0 auto 0; background: var(--bg); padding: var(--s0); translate: 0 -120%; transition: translate .25s ease; box-shadow: var(--shadow); }
  .nav__list.is-open { translate: 0 0; }
}

/* 14) Focus visibility */
:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }
